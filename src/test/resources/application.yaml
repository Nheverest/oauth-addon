#
# Copyright Â© 2013-2017, The SeedStack authors <http://seedstack.org>
#
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.
#

  
#oauth-provider: http://localhost:${sys.tomcat\.http\.port:'9090'}

rest:
  path: /api

security:
  realms: OAuthRealm
  web:
    urls:
      -
        pattern: /api/provider/**
        filters: anon
      -
        pattern: /callback
        filters: oauthCallback
      -
        pattern: /profile.html
        filters: oauth
      -
        pattern: /api/**
        filters: oauth
  oauth:
    #discoveryDocument: https://accounts.google.com/.well-known/openid-configuration
    redirect: http://localhost:${sys.tomcat\.http\.port:'9090'}${web.runtime.servlet.contextPath}/callback
    #redirect: http://localhost:8080/callback
    scopes: email
    clientId: ${env.clientId}
    clientSecret: ${env.clientSecret}
    #clientId: 243402117109-3ia596doks7tv212v8fjg8pqb2d7gjjo.apps.googleusercontent.com
    #clientSecret: 2f_1qSp1Nhah9tM8FeVGJKv6
    accessTokenValidator: org.seedstack.oauth.validator.PlainAccessTokenValidator
    
    provider: 
      authorization: http://localhost:${sys.tomcat\.http\.port:'9090'}${web.runtime.servlet.contextPath}/api/provider/authorize
      token: http://localhost:${sys.tomcat\.http\.port:'9090'}${web.runtime.servlet.contextPath}/api/provider/create-token
      revocation: http://localhost:${sys.tomcat\.http\.port:'9090'}${web.runtime.servlet.contextPath}/api/provider/token/revoke
      userInfo: http://localhost:${sys.tomcat\.http\.port:'9090'}${web.runtime.servlet.contextPath}/api/provider/userInfo
      issuer: https://mockedserver.com
      jwks: https://mockedserver.com/oauth2/v3/certs
      plainJwtAllowed: true
proxy: 
    httpProxy: "http://http.internetpsa.inetpsa.com:80"
    noProxy: "*.inetpsa.com"